<!DOCTYPE html>
<html>
    <head>
        <title>Sequence Editor</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!--CSS style sheets-->
        <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
        <script type="text/javascript" src="jsLibraries/jquery-1.9.1.min.js"></script> 
        <script type="text/javascript" src="jsLibraries/jquery-ui.min.js"></script> 
        <style>
            .resizable { width: 150px; height: 150px; padding: 0.5em; }
            .resizable h4 { text-align: center; margin: 0; }
            textArea {
                font-size: 22pt;
                font-family: monospace;
                padding:0px;
                line-height: 22pt;
            }
            #highlight{
                font-size: 22pt;
                font-family: monospace; 
                padding:0px;
                line-height: 22pt;
                color:transparent;
            }
            span{
                line-height: 22pt;
                font-size: 22pt;
                font-family: monospace; 
                background-color: lightblue;
                word-wrap: break-word;
                padding:0px;
                margin: 0px;
                border:0px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <button id="newButton" class="btn btn-large">New Widget</button>
            <div id="testArea">
                <textarea id="testText" style="resize:none;width: 500px;height:500px;background-color: transparent;"></textarea>
                <div id="highlight" style="word-wrap: break-word;width:500px;z-index: 1;position:relative;top:-511px"></div>
            </div>
        </div>

        <!--javascript libraries-->
        <script src="jsLibraries/bootstrap.min.js"></script> 
        <!--javascript goes here-->
        <script>
            $(document).ready(function() {
                var features = [{"name": "feature1", "start": 1, "end": 3}, {"name": "feature2", "start": 4, "end": 10}, {"name": "feature3", "start": 12, "end": 30}];
                $('#testText').mousedown(function() {
                    $('#highlight').css("z-index", -1);
                    $('#highlight span').css("color", "transparent");
                    $('#testText').css("color", "black");
                });
                $('#highlight').mousedown(function() {
                    $('#highlight').css("z-index", -1);
                    $('#highlight span').css("color", "transparent");
                    $('#testText').css("color", "black");
                });
                $('#testText').mouseleave(function() {
                    $('#highlight').css("z-index", 1);
                    $('#highlight span').css("color", "black");
                });


                $('#testText').keyup(function(event) {
                    var typedChar = String.fromCharCode(event.which);
                    var unparsed = $('#testText').val().toString();
                    unparsed = '<span title="feature">' + unparsed.substring(0, unparsed.length / 2) + '</span>' + unparsed.substring(unparsed.length / 2);
                    $('#highlight').html(unparsed);
                });
            });
        </script>
        <script type="text/javascript" src ="controller/jenhanSandboxController.js"></script> 
    </body>
</html>
